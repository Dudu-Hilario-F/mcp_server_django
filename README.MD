# MCP-Docs: Meu Co-piloto Pessoal para a Documenta√ß√£o do Django

Bem-vindo ao reposit√≥rio do **MCP-Docs**, um sistema de busca inteligente para a documenta√ß√£o do Django, projetado para ser consumido por assistentes de IA como o Gemini.

A ideia nasceu de uma necessidade comum: a busca por solu√ß√µes na documenta√ß√£o oficial, que muitas vezes se torna uma ca√ßa manual e demorada com `Ctrl+F`. O MCP-Docs resolve isso implementando uma busca sem√¢ntica, que entende o *problema* por tr√°s da pergunta, em vez de apenas palavras-chave exatas.

O objetivo √© transformar a maneira como interagimos com a documenta√ß√£o, fornecendo respostas contextuais e diretas, e servindo como um caso de teste para a integra√ß√£o de ferramentas de IA no fluxo de trabalho de desenvolvimento.

## ü§î A Arquitetura: Gera√ß√£o Aumentada por Recupera√ß√£o (RAG)

O MCP-Docs n√£o √© apenas um motor de busca; ele √© uma implementa√ß√£o do padr√£o **RAG (Retrieval-Augmented Generation)**. Em vez de depender do conhecimento potencialmente desatualizado de um modelo de linguagem, n√≥s o "aumentamos" com informa√ß√µes precisas e atuais.

**O Problema:** Um LLM (Modelo de Linguagem Grande) como o Gemini possui um conhecimento vasto, mas congelado no tempo do seu √∫ltimo treinamento. Ele pode n√£o conhecer as funcionalidades da vers√£o mais recente do Django ou, pior, "alucinar" uma resposta incorreta, causando erros e perda de tempo.

**A Solu√ß√£o RAG:**
1.  **Recupera√ß√£o (Retrieval):** Quando uma pergunta sobre o Django √© feita, em vez de adivinhar, a IA usa a API do MCP-Docs. Nosso sistema busca em uma base de dados vetorial (ChromaDB), que cont√©m a documenta√ß√£o oficial previamente processada, e recupera os trechos mais relevantes para a pergunta.
2.  **Gera√ß√£o Aumentada (Augmented Generation):** Com esses trechos de informa√ß√£o confi√°vel e atualizada em m√£os, a IA gera uma resposta coesa, precisa e contextualizada.

O MCP-Docs atua como um assistente de pesquisa especializado, fornecendo os fatos, enquanto a IA usa sua intelig√™ncia para interpret√°-los e apresent√°-los de forma clara. √â a colabora√ß√£o perfeita entre uma base de conhecimento especializada e um racioc√≠nio avan√ßado.

## üöÄ Guia de Instala√ß√£o e Execu√ß√£o

Para executar o projeto localmente, siga os passos abaixo.

### 1. Pr√©-requisitos
- Python 3.10+
- Git

### 2. Instala√ß√£o

1.  **Clone o reposit√≥rio:**
    ```bash
    git clone [https://github.com/seu-usuario/seu-repositorio.git](https://github.com/seu-usuario/seu-repositorio.git)
    cd mcp-project
    ```

2.  **Crie e ative um ambiente virtual:**
```bash

  # Cria o ambiente
  python -m venv mcp-env

  # Ativa o ambiente
  # Windows
  mcp-env\Scripts\activate
  # macOS/Linux
  source mcp-env/bin/activate
```

3.  **Instale as depend√™ncias** (√© uma boa pr√°tica criar um `requirements.txt`):
    ```bash
    pip install -r requirements.txt
    ```

4.  **Configure as vari√°veis de ambiente:**
    Crie uma c√≥pia do arquivo `.env.example` e renomeie para `.env`. Este arquivo guardar√° suas configura√ß√µes locais.
    ```bash
    # No Windows (usando copy) ou Linux/macOS (usando cp)
    copy .env.example .env
    ```
    *O arquivo `.env` j√° vem com valores padr√£o para desenvolvimento. A `SECRET_KEY` √© gerada automaticamente se n√£o existir.*

5.  **Prepare o banco de dados:**
    ```bash
    python manage.py migrate
    ```

### 3. Alimentando a Base de Conhecimento

Para popular o banco de dados com a documenta√ß√£o do Django, use o comando `import_docs`.

```bash
# Exemplo: Importar a documenta√ß√£o sobre Models da vers√£o 5.2 do Django
python manage.py import_docs 5.2 topics/db/models/
```

O script ir√°:
- Fazer o download da p√°gina.
- Dividir o conte√∫do em se√ß√µes l√≥gicas.
- Salvar o texto no banco de dados relacional (SQLite).
- Gerar embeddings (vetores de significado) para cada se√ß√£o.
- Salvar os embeddings no banco de dados vetorial (ChromaDB).

O progresso e poss√≠veis erros s√£o registrados no arquivo `import_docs.log`.

### 4. Iniciando o Servidor

```bash
python manage.py runserver
```

A API estar√° dispon√≠vel em `http://127.0.0.1:8000/api/v1/search/`.

### 5. Executando os Testes

Para garantir que tudo est√° funcionando como esperado, rode a su√≠te de testes:
```bash
python manage.py test
```

## üõ†Ô∏è Boas Pr√°ticas e Pr√≥ximos Passos

Este projeto segue boas pr√°ticas de desenvolvimento para garantir qualidade e manutenibilidade.

-   **Gerenciamento de Depend√™ncias:** O arquivo `requirements.txt` garante que todos os desenvolvedores usem as mesmas vers√µes das bibliotecas, evitando o "funciona na minha m√°quina".
-   **Configura√ß√£o Segura:** O uso de vari√°veis de ambiente (`.env`) separa as configura√ß√µes sens√≠veis (como `SECRET_KEY`) do c√≥digo, uma pr√°tica de seguran√ßa essencial.
-   **Logging:** O comando de importa√ß√£o (`import_docs`) gera logs detalhados no arquivo `import_docs.log`, facilitando a depura√ß√£o e o monitoramento.
-   **Testes Automatizados:** Testes unit√°rios para a API (`apps/documentation/tests.py`) garantem que o endpoint principal funcione corretamente e evitam regress√µes.

### Pr√≥ximos Passos Sugeridos

-   **Automa√ß√£o de Atualiza√ß√£o:** Criar um novo comando que utilize o `sitemap.xml` da documenta√ß√£o do Django para descobrir e importar p√°ginas novas ou atualizadas automaticamente.
-   **Containeriza√ß√£o com Docker:** Criar um `Dockerfile` e um `docker-compose.yml` para simplificar o setup do ambiente de desenvolvimento e preparar o projeto para produ√ß√£o.
-   **CI/CD (Integra√ß√£o Cont√≠nua):** Configurar um workflow com GitHub Actions para rodar testes e linters automaticamente a cada push, garantindo a qualidade do c√≥digo.

## üîå Integra√ß√£o com uma IA (Ex: Gemini)

A API foi projetada para ser usada como uma **ferramenta** por um LLM. No seu cliente de IA, voc√™ deve registrar a seguinte ferramenta:

```json
{
  "name": "search_django_docs",
  "description": "Busca na documenta√ß√£o oficial do Django por trechos de texto que respondam a uma pergunta ou descrevam um conceito t√©cnico.",
  "parameters": {
    "type": "object",
    "properties": {
      "q": {
        "type": "string",
        "description": "A pergunta do usu√°rio ou o conceito a ser pesquisado. Deve ser uma frase completa para uma busca sem√¢ntica eficaz."
      }
    },
    "required": ["q"]
  }
}
```

Com a ferramenta registrada, o fluxo √© o seguinte:
1.  O usu√°rio faz uma pergunta t√©cnica sobre Django.
2.  A IA identifica que a ferramenta `search_django_docs` √© a mais adequada para responder.
3.  A IA chama a API do MCP-Docs com a pergunta do usu√°rio.
4.  O MCP-Docs retorna os trechos mais relevantes da documenta√ß√£o.
5.  A IA utiliza esses trechos para formular uma resposta final, precisa e baseada em fatos.